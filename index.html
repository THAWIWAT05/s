<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>üìò ‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</title>
  <style>
    body {
      font-family: "Segoe UI", Tahoma, sans-serif;
      margin: 0;
      background: #f4f6f9;
      color: #333;
    }
    header {
      background: linear-gradient(135deg, #6a11cb, #2575fc);
      padding: 20px;
      text-align: center;
      color: #fff;
      font-size: 24px;
      font-weight: bold;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .container {
      max-width: 1100px;
      margin: auto;
      padding: 30px 20px;
    }
    .select-box {
      margin-bottom: 30px;
    }
    select {
      width: 100%;
      padding: 12px;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 16px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 25px;
    }
    .card {
      background: #fff;
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      transition: transform 0.2s ease;
    }
    .card:hover {
      transform: translateY(-5px);
    }
    .card h3 {
      margin: 0 0 15px;
      font-size: 18px;
      color: #2c3e50;
    }
    .btn {
      display: inline-block;
      padding: 10px 15px;
      background: linear-gradient(135deg, #3498db, #9b59b6);
      color: #fff;
      border-radius: 8px;
      text-decoration: none;
      text-align: center;
      font-size: 14px;
      font-weight: bold;
      margin-bottom: 15px;
    }
    .btn:hover { opacity: 0.9; }
    .comments {
      margin-top: 10px;
      border-top: 1px solid #eee;
      padding-top: 10px;
    }
    .comments h4 {
      margin: 5px 0 10px;
      font-size: 14px;
      color: #555;
    }
    .comment-list {
      max-height: 120px;
      overflow-y: auto;
      margin-bottom: 10px;
    }
    .comment {
      background: #f0f2f5;
      padding: 6px 10px;
      border-radius: 6px;
      margin-bottom: 6px;
      font-size: 14px;
    }
    .comment-input {
      display: flex;
      gap: 10px;
    }
    .comment-input input {
      flex: 1;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    .comment-input button {
      padding: 8px 12px;
      border: none;
      border-radius: 6px;
      background: #27ae60;
      color: white;
      cursor: pointer;
    }
    .comment-input button:hover { background: #219150; }
  </style>
</head>
<body>
  <header>üìò ‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</header>
  <div class="container">
    <div class="select-box">
      <label for="subject">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤:</label>
      <select id="subject">
        <option value="">-- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤ --</option>
        <option value="math">üìê ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</option>
        <option value="physics">üî¨ ‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå</option>
        <option value="chemistry">‚öóÔ∏è ‡πÄ‡∏Ñ‡∏°‡∏µ</option>
      </select>
    </div>

    <div id="files" class="grid"></div>
  </div>

  <script>
    // ‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏¥‡∏ä‡∏≤
    const fileData = {
      math: [
        { name: "‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô.pdf", url: "files/math-basic.pdf" },
        { name: "‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ñ‡∏ì‡∏¥‡∏ï ‡∏°.6.docx", url: "files/math-exercise.docx" }
      ],
      physics: [
        { name: "‡∏Å‡∏•‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå.pdf", url: "files/mechanics.pdf" },
        { name: "‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡πÅ‡∏°‡πà‡πÄ‡∏´‡∏•‡πá‡∏Å.zip", url: "files/electricity.zip" }
      ],
      chemistry: [
        { name: "‡πÄ‡∏Ñ‡∏°‡∏µ‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏µ‡∏¢‡πå.pdf", url: "files/organic.pdf" },
        { name: "‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏Ñ‡∏°‡∏µ.docx", url: "files/chem-summary.docx" }
      ]
    };

    // ‡πÇ‡∏´‡∏•‡∏î/‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡∏à‡∏≤‡∏Å LocalStorage
    function loadComments() {
      return JSON.parse(localStorage.getItem("comments")) || {};
    }
    function saveComments(comments) {
      localStorage.setItem("comments", JSON.stringify(comments));
    }

    let commentsData = loadComments();
    const subjectSelect = document.getElementById("subject");
    const filesDiv = document.getElementById("files");

    subjectSelect.addEventListener("change", () => {
      const subject = subjectSelect.value;
      filesDiv.innerHTML = "";

      if (fileData[subject]) {
        fileData[subject].forEach((file, index) => {
          const key = `${subject}-${index}`;
          const card = document.createElement("div");
          card.className = "card";
          card.innerHTML = `
            <h3>${file.name}</h3>
            <a class="btn" href="${file.url}" download>‚¨á ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î</a>
            <div class="comments">
              <h4>üí¨ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô</h4>
              <div class="comment-list" id="comments-${key}"></div>
              <div class="comment-input">
                <input type="text" id="input-${key}" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°...">
                <button onclick="addComment('${key}')">‡∏™‡πà‡∏á</button>
              </div>
            </div>
          `;
          filesDiv.appendChild(card);

          // ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡πÄ‡∏Å‡πà‡∏≤
          const list = document.getElementById(`comments-${key}`);
          (commentsData[key] || []).forEach(text => {
            const div = document.createElement("div");
            div.className = "comment";
            div.textContent = text;
            list.appendChild(div);
          });
        });
      }
    });

    function addComment(key) {
      const input = document.getElementById(`input-${key}`);
      const list = document.getElementById(`comments-${key}`);
      if (input.value.trim() !== "") {
        const div = document.createElement("div");
        div.className = "comment";
        div.textContent = input.value;
        list.appendChild(div);

        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï LocalStorage
        if (!commentsData[key]) commentsData[key] = [];
        commentsData[key].push(input.value);
        saveComments(commentsData);

        input.value = "";
      }
    }
  </script>
</body>
</html>
